webpackJsonp([1],{"0Nq7":function(e,t){},CCpP:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),s=n("mvHQ"),a=n.n(s),o={name:"App",mounted:function(){window.addEventListener("unload",this.saveState)},methods:{saveState:function(){sessionStorage.setItem("state",a()(this.$store.state.user))}}},i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")(o,i,!1,function(e){n("ODbd")},null,null).exports,u=n("/ocq"),m={name:"Login",data:function(){return{form:{name:"",password:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e?(sessionStorage.setItem("isLogin","true"),t.$store.dispatch("asyncUpdateUser",{name:t.form.name}),t.$router.push({name:"Main",params:{name:t.form.name}})):t.$message({message:"用户名或密码错误",type:"warning"})})}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"form",staticClass:"login-box",attrs:{model:e.form,rules:e.rules}},[n("h2",{staticClass:"login-title"},[e._v("欢迎登录")]),e._v(" "),n("el-form-item",{attrs:{label:"账号",prop:"name"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入用户"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("form")}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(m,c,!1,function(e){n("0Nq7")},"data-v-02ce89c3",null).exports,p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-openeds":["1"]}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),e._v("会员管理")]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"1-1"}},[n("router-link",{attrs:{to:"/member/level/3"}},[e._v("会员等级")])],1),e._v(" "),n("el-menu-item",{attrs:{index:"1-2"}},[n("router-link",{attrs:{to:"/member/list"}},[e._v("会员列表")])],1),e._v(" "),n("el-menu-item",{attrs:{index:"1-3"}},[n("router-link",{attrs:{to:"/goMain"}},[e._v("回到首页")])],1)],1)],2),e._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-message"}),e._v("商品管理")]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"1-1"}},[e._v("商品分类")]),e._v(" "),n("el-menu-item",{attrs:{index:"1-2"}},[e._v("商品列表")])],1)],2)],1)],1),e._v(" "),n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[n("el-dropdown",[n("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("用户中心")]),e._v(" "),n("el-dropdown-item",[e._v("退出用户")])],1)],1),e._v(" "),n("span",[e._v(e._s(e.$store.getters.getUser.name))])],1),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var f=n("VU/8")({name:"Main"},p,!1,function(e){n("CCpP")},"data-v-8ae658f2",null).exports,v={props:["id"],name:"MemberLevel",beforeRouteEnter:function(e,t,n){n(function(e){e.getData()})},beforeRouteLeave:function(e,t,n){n()},methods:{getData:function(){this.axios({method:"get",url:"http://localhost:8080/data.json"}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}},h={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  会员等级 ID="+this._s(this.id)+"\n")])},staticRenderFns:[]};var g=n("VU/8")(v,h,!1,function(e){n("RBAz")},"data-v-e0ea110c",null).exports,_={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  会员列表\n")])},staticRenderFns:[]};var b=n("VU/8")({name:"MemberList"},_,!1,function(e){n("RK5A")},"data-v-51cecc15",null).exports,x={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("404")])},staticRenderFns:[]},w=n("VU/8")({name:"NotFound"},x,!1,null,null,null).exports;r.default.use(u.a);var R=new u.a({mode:"history",routes:[{path:"/login",name:"Login",component:d},{path:"/main/",name:"Main",component:f,children:[{path:"/member/list",name:"MemberList",component:b},{path:"/member/level/:id",name:"MemberLevel",component:g,props:!0}]},{path:"/goMain",redirect:"/main"},{path:"*",component:w}]}),U=n("zL8q"),$=n.n(U),y=(n("tvR6"),n("mtWM")),S=n.n(y),L=n("NYxO"),M={state:sessionStorage.getItem("state")?JSON.parse(sessionStorage.getItem("state")):{user:{name:""}},getters:{getUser:function(e){return e.user}},mutations:{updateUser:function(e,t){e.user=t}},actions:{asyncUpdateUser:function(e,t){e.commit("updateUser",t)}}};r.default.use(L.a);var C=new L.a.Store({modules:{user:M}});r.default.prototype.axios=S.a,r.default.use($.a),r.default.use(u.a),r.default.use(L.a),r.default.config.productionTip=!1,R.beforeEach(function(e,t,n){var r=sessionStorage.getItem("isLogin");"/logout"===e.path?(sessionStorage.clear(),n({path:"/login"})):"/login"===e.path?null!==r&&n({path:"/main"}):null===r&&n({path:"/login"}),n()}),new r.default({el:"#app",router:R,store:C,render:function(e){return e(l)}})},ODbd:function(e,t){},RBAz:function(e,t){},RK5A:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bcf22307d327b6e5effd.js.map